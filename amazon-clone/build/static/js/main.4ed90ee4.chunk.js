(this["webpackJsonpamazon-clone"]=this["webpackJsonpamazon-clone"]||[]).push([[0],{101:function(e,t,c){},102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},106:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c(3),n=c.n(s),i=c(38),r=c.n(i),o=(c(83),c(65)),l=c(8),d=c(19),j=c(11),u=(c(84),c(67)),h=c.n(u),m=c(66),b=c.n(m),O=c(68),p=c.n(O),x=c(69),_=c.n(x),g=Object(s.createContext)(),v=function(e){var t=e.reducer,c=e.initialState,n=e.children;return Object(a.jsx)(g.Provider,{value:Object(s.useReducer)(t,c),children:n})},f=function(){return Object(s.useContext)(g)},N=c(74).a.initializeApp({apiKey:"AIzaSyCMcMisyjvDADai2NoTkmt0x6oQCDfV-Ls",authDomain:"clone-90982.firebaseapp.com",projectId:"clone-90982",storageBucket:"clone-90982.appspot.com",messagingSenderId:"779052690616",appId:"1:779052690616:web:eafead7e0907fadcb9984d",measurementId:"G-FTN7HY5P7M"}),y=N.firestore(),C=N.auth();var S=function(){var e=f(),t=Object(l.a)(e,2),c=t[0],s=c.cart,n=c.user;return t[1],Object(a.jsxs)("div",{className:"totalHeader",children:[Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(d.b,{to:"/",children:Object(a.jsx)("img",{src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon Logo",className:"header__logo"})}),Object(a.jsxs)("div",{className:"header__deliverTo",children:[Object(a.jsx)(b.a,{style:{color:"white"}}),Object(a.jsxs)("div",{className:"header__deliveryInfo",children:[Object(a.jsxs)("span",{className:"header__optionLineOne",children:["Deliver To ",(null===n||void 0===n?void 0:n.email)||""]}),Object(a.jsx)("span",{className:"header__optionLineTwo",children:"New York, 10016"})]})]}),Object(a.jsxs)("div",{className:"header__search",children:[Object(a.jsx)("input",{type:"text",className:"header__searchInput"}),Object(a.jsx)(h.a,{className:"header__searchIcon"})]}),Object(a.jsxs)("div",{className:"header__nav",children:[Object(a.jsx)(d.b,{to:"/login",children:Object(a.jsxs)("div",{className:"header__option",onClick:function(){C.signOut()},children:[Object(a.jsxs)("span",{className:"header__optionLineOne",children:["Hello, ",(null===n||void 0===n?void 0:n.email)||"Guest"]}),Object(a.jsx)("span",{className:"header__optionLineTwo",children:n?"Sign Out":"Sign In"})]})}),Object(a.jsx)(d.b,{to:"/orders",children:Object(a.jsxs)("div",{className:"header__option",children:[Object(a.jsx)("span",{className:"header__optionLineOne",children:" Returns"}),Object(a.jsx)("span",{className:"header__optionLineTwo",children:"& Orders"})]})}),Object(a.jsxs)("div",{className:"header__option",children:[Object(a.jsx)("span",{className:"header__optionLineOne",children:"Your"}),Object(a.jsx)("span",{className:"header__optionLineTwo",children:"Prime"})]}),Object(a.jsx)(d.b,{to:"/cart",children:Object(a.jsxs)("div",{className:"header__optionCart",children:[Object(a.jsx)("span",{className:'className="header__optionLineTwo header__cartCount"',children:null===s||void 0===s?void 0:s.length}),Object(a.jsx)(p.a,{})]})})]})]}),Object(a.jsxs)("div",{className:"subheader",children:[Object(a.jsxs)("div",{className:"subheader__menu",children:[Object(a.jsx)(_.a,{style:{color:"white"}}),Object(a.jsx)("span",{className:"subheader__menuText",children:"All"})]}),Object(a.jsx)("span",{className:"subheader__option",children:"Prime Video"}),Object(a.jsx)("span",{className:"subheader__option",children:"Your Amazon.com"}),Object(a.jsx)("span",{className:"subheader__option",children:"Prime"}),Object(a.jsx)("span",{className:"subheader__option",children:"Coupons"}),Object(a.jsx)("span",{className:"subheader__option",children:"Customer Service"}),Object(a.jsx)("span",{className:"subheader__option",children:"Best Sellers"}),Object(a.jsx)("span",{className:"subheader__option",children:"Browsing History"}),Object(a.jsx)("span",{className:"subheader__option",children:"Buy Again"}),Object(a.jsx)("span",{className:"subheader__option",children:"Fresh"}),Object(a.jsx)("span",{className:"subheader__option",children:"Whole Foods"}),Object(a.jsx)("span",{className:"subheader__option",children:"Find a Gift"}),Object(a.jsx)("span",{className:"subheader__option",children:"True love, low prices"})]})]})},A=(c(96),c(142));var T=function(e){var t=e.id,c=e.title,s=e.image,n=e.price,i=e.rating,r=f(),o=Object(l.a)(r,2),d=(o[0].cart,o[1]);return Object(a.jsxs)("div",{className:"product",children:[Object(a.jsxs)("div",{className:"product__details",children:[Object(a.jsx)("p",{children:c}),Object(a.jsx)("p",{className:"product__price",children:Object(a.jsxs)("strong",{children:["$",n]})}),Object(a.jsx)(A.a,{name:"half-rating-read",defaultValue:i,precision:.5,readOnly:!0})]}),Object(a.jsx)("img",{src:s,alt:c}),Object(a.jsx)("button",{onClick:function(){d({type:"ADD_TO_CART",item:{id:t,title:c,price:n,image:s,rating:i}})},children:"Add to Cart"})]})},w=(c(97),c(27));c(98),c(99);var k=function(){return Object(a.jsx)("div",{className:"imageCarousel",children:Object(a.jsx)(w.a,{naturalSlideWidth:100,naturalSlideHeight:40,totalSlides:3,isPlaying:!0,interval:3e3,infinite:!0,children:Object(a.jsxs)(w.c,{children:[Object(a.jsx)(w.b,{index:0,children:Object(a.jsx)("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:"Amazon Prime Video Banner",className:"home__image"})}),Object(a.jsx)(w.b,{index:1,children:Object(a.jsx)("img",{src:"https://store-images.s-microsoft.com/image/apps.53280.13756631990520576.c7bf8936-a11d-4c89-b498-2442c2977baf.7cd42ed2-955c-4a17-91aa-842c072a1056?mode=scale&q=90&h=1080&w=1920",alt:"Amazon Music",className:"home__image"})}),Object(a.jsx)(w.b,{index:2,children:Object(a.jsx)("img",{src:"https://media-assets-04.thedrum.com/cache/images/thedrum-prod/s3-news-tmp-77017-494891-alexa-tell-me-some-amazon-echo-tips--2x1--740.jpg",alt:"Amazon Prime Video Banner",className:"home__image"})})]})})})};var I=function(){return Object(a.jsx)("div",{className:"home",children:Object(a.jsxs)("div",{className:"home__container",children:[Object(a.jsx)("div",{className:"home__imageCarousel",children:Object(a.jsx)(k,{})}),Object(a.jsxs)("div",{className:"home__productRow",children:[Object(a.jsx)(T,{id:0,title:"Originals: How Non-Conformists Move the World",price:14.89,rating:5,image:"https://images-na.ssl-images-amazon.com/images/I/511qyzBH42L._SX322_BO1,204,203,200_.jpg"}),Object(a.jsx)(T,{id:1,title:"New Apple MacBook Pro (16-inch, 16GB RAM, 1TB Storage, 2.3GHz Intel Core i9) - Space Gray",price:2549.99,rating:4.5,image:"https://www.apple.com/newsroom/images/product/mac/standard/Apple_16-inch-MacBook-Pro_Retina-Display_111319_big.jpg.large.jpg"})]}),Object(a.jsxs)("div",{className:"home__productRow",children:[Object(a.jsx)(T,{id:3,title:"iPhone 12 Pro (256 GB)",price:1099,rating:4,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSXgPVSwmaLfkd7rQz2AQIt7521ro_FIOjtDQ&usqp=CAU"}),Object(a.jsx)(T,{id:4,title:"Keurig K-Classic Coffee Maker, Single Serve K-Cup Pod Coffee Brewer, 6 to 10 Oz. Brew Sizes, Black",price:79,rating:4.5,image:"https://images-na.ssl-images-amazon.com/images/I/71Ikuq6AAfL._AC_SL1500_.jpg"}),Object(a.jsx)(T,{id:5,title:"Becoming by Michelle Obama",price:11.89,rating:5,image:"https://images-na.ssl-images-amazon.com/images/I/81h2gWPTYJL.jpg"})]}),Object(a.jsx)("div",{className:"home__productRow",children:Object(a.jsx)(T,{id:6,title:"Samsung 65-inch Class QLED Q800T Series - Real 8K Resolution Direct Full Array 24X Quantum HDR 16X Smart TV with Alexa Built-in (QN65Q800TAFXZA, 2020 Model)",price:2697.99,rating:4.5,image:"https://image-us.samsung.com/SamsungUS/home/televisions-and-home-theater/tvs/qled-8k-tv/pdp/q800t-series/gallery/01_Q800T-QTB1_Front2_Titan-Black-1600x1200.jpg?$product-details-jpg$"})})]})})},P=c(25),R=c.n(P),B=c(51),D=c(22),E=function(e){var t=null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0);console.log("Total amount = ",t);var c=t.toFixed(2);return console.log("Cart total = ",c),c},M=function(e,t){switch(t.type){case"ADD_TO_CART":return Object(D.a)(Object(D.a)({},e),{},{cart:[].concat(Object(B.a)(e.cart),[t.item])});case"REMOVE_FROM_CART":var c=e.cart.findIndex((function(e){return e.id===t.id})),a=Object(B.a)(e.cart);return c>=0?a.splice(c,1):console.log("Can't remove product (id: ".concat(t.id,")")),Object(D.a)(Object(D.a)({},e),{},{cart:a});case"EMPTY_CART":return Object(D.a)(Object(D.a)({},e),{},{cart:[]});case"SET_USER":return Object(D.a)(Object(D.a)({},e),{},{user:t.user});default:return e}};c(101);var z=function(){var e=Object(j.f)(),t=f(),c=Object(l.a)(t,2),s=c[0],n=s.cart,i=s.user;return c[1],Object(a.jsxs)("div",{className:"subtotal",children:[Object(a.jsx)(R.a,{renderText:function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("p",{children:["Subtotal (",null===n||void 0===n?void 0:n.length," items): ",Object(a.jsxs)("strong",{children:["$",e]})]}),Object(a.jsxs)("small",{className:"subtotal__gift",children:[Object(a.jsx)("input",{type:"checkbox"})," This order contains a gift"]})]})},value:E(n),decimalDigits:2,displayType:"text",thousandsSeparator:!0}),Object(a.jsx)("button",{disabled:0===(null===n||void 0===n?void 0:n.length),onClick:function(t){return e.push(i?"/payment":"/login")},children:"Proceed to Checkout"})]})};c(102);var L=function(e){var t=e.id,c=e.title,s=e.rating,n=e.price,i=e.image,r=e.isCheckingOut,o=void 0===r||r,d=f(),j=Object(l.a)(d,2),u=(j[0].cart,j[1]);return Object(a.jsxs)("div",{className:"cartItem",children:[Object(a.jsx)("img",{src:i,alt:c,className:"cartItem__image"}),Object(a.jsxs)("div",{className:"cartItem__details",children:[Object(a.jsx)("p",{className:"cartItem__title",children:c}),Object(a.jsx)("p",{className:"cartItem__price",children:Object(a.jsxs)("strong",{children:["$",n]})}),Object(a.jsx)(A.a,{name:"half-rating",defaultValue:s,precision:.5,readOnly:!0}),o&&Object(a.jsx)("button",{onClick:function(){u({type:"REMOVE_FROM_CART",id:t})},children:"Delete"})]})]})};c(103);var F=function(){var e=f(),t=Object(l.a)(e,2),c=t[0],s=c.cart;return c.user,t[1],Object(a.jsxs)("div",{className:"cart",children:[Object(a.jsxs)("div",{className:"cart__products",children:[Object(a.jsx)("img",{src:"https://www.disruptivestatic.com/wp-content/uploads/2018/10/Screen-Shot-2018-10-29-at-11.50.03-AM-450x96.png",alt:"Advertisement",className:"cart__ad"}),Object(a.jsx)("h2",{className:"cart__title",children:"Shopping Cart"}),s.map((function(e){return Object(a.jsx)(L,{id:e.id,title:e.title,price:e.price,rating:e.rating,image:e.image})}))]}),Object(a.jsx)("div",{className:"cart__checkout",children:Object(a.jsx)(z,{})})]})};c(104);var Y=function(){var e=Object(j.f)(),t=Object(s.useState)(""),c=Object(l.a)(t,2),n=c[0],i=c[1],r=Object(s.useState)(""),o=Object(l.a)(r,2),u=o[0],h=o[1];return Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)(d.b,{to:"/",children:Object(a.jsx)("img",{className:"login__logo",src:"https://logos-world.net/wp-content/uploads/2020/04/Amazon-Logo.png",alt:""})}),Object(a.jsxs)("div",{className:"login__container",children:[Object(a.jsx)("h1",{children:"Sign-In"}),Object(a.jsxs)("form",{action:"",children:[Object(a.jsx)("h5",{children:"E-mail"}),Object(a.jsx)("input",{type:"text",value:n,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("h5",{children:"Password"}),Object(a.jsx)("input",{type:"password",value:u,onChange:function(e){return h(e.target.value)}}),Object(a.jsx)("button",{type:"submit",className:"login__signInButton",onClick:function(t){t.preventDefault(),C.signInWithEmailAndPassword(n,u).then((function(t){t&&e.push("/")})).catch((function(e){return alert(e.message)}))},children:"Sign In"})]}),Object(a.jsx)("p",{children:"By signing-in agree to the Amazon Clone Terms of use. Please see our clone Privacy Notice, our Double Chocolate Chip Cookie Notice and our Advertisements-You-Don't-Want-To-See Notice"}),Object(a.jsxs)("button",{className:"login__register",onClick:function(t){t.preventDefault(),C.createUserWithEmailAndPassword(n,u).then((function(t){t&&e.push("/")})).catch((function(e){return alert(e.message)}))},children:["Create your Amazon Account"," "]})]})]})},G=c(33),Q=c.n(G),V=c(50),H=(c(106),c(24)),U=c(70),W=c.n(U).a.create({baseURL:"https://us-central1-clone-90982.cloudfunctions.net/api"});var q=function(){var e=f(),t=Object(l.a)(e,2),c=t[0],n=c.cart,i=c.user,r=t[1],o=Object(H.useStripe)(),d=Object(H.useElements)(),u=Object(s.useState)(null),h=Object(l.a)(u,2),m=h[0],b=h[1],O=Object(s.useState)(!1),p=Object(l.a)(O,2),x=p[0],_=p[1],g=Object(s.useState)(!0),v=Object(l.a)(g,2),N=v[0],C=v[1],S=Object(s.useState)(!1),A=Object(l.a)(S,2),T=A[0],w=A[1],k=Object(s.useState)(!0),I=Object(l.a)(k,2),P=I[0],B=I[1],D=Object(j.f)();Object(s.useEffect)((function(){(function(){var e=Object(V.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({method:"post",url:"/payments/create?total=".concat(Math.round(100*E(n)))});case 2:t=e.sent,B(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var M=function(){var e=Object(V.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),_(!0),e.next=4,o.confirmCardPayment(P,{payment_method:{card:d.getElement(H.CardElement)}}).then((function(e){var t=e.paymentIntent;y.collection("users").doc(null===i||void 0===i?void 0:i.uid).collection("orders").doc(t.id).set({cart:n,amount:t.amount,createdAt:t.created}),w(!0),b(null),_(!1),r({type:"EMPTY_CART"}),D.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"payment",children:Object(a.jsxs)("div",{className:"payment__container",children:[Object(a.jsxs)("h1",{children:["Checkout (",null===n||void 0===n?void 0:n.length," items)"]}),Object(a.jsxs)("div",{className:"payment__section",children:[Object(a.jsx)("div",{className:"payment__title",children:Object(a.jsx)("h3",{children:"Delivery Address"})}),Object(a.jsxs)("div",{className:"payment__address",children:[Object(a.jsx)("p",{children:null===i||void 0===i?void 0:i.email}),Object(a.jsx)("p",{children:"444 3rd Ave"}),Object(a.jsx)("p",{children:"New York, NY"}),Object(a.jsx)("p",{children:"10016"})]})]}),Object(a.jsxs)("div",{className:"payment__section",children:[Object(a.jsx)("div",{className:"payment__title",children:Object(a.jsx)("h3",{children:"Review items and delivery"})}),Object(a.jsx)("div",{className:"payment__items",children:n.map((function(e){return Object(a.jsx)(L,{id:e.id,title:e.title,price:e.price,image:e.image,rating:e.rating})}))})]}),Object(a.jsxs)("div",{className:"payment__section",children:[Object(a.jsx)("div",{className:"payment__title",children:Object(a.jsx)("h3",{children:"Payment Method"})}),Object(a.jsx)("div",{className:"payment__details",children:Object(a.jsxs)("form",{onSubmit:M,children:[Object(a.jsx)(H.CardElement,{onChange:function(e){C(e.empty),b(e.error?e.error.message:"")}}),Object(a.jsxs)("div",{className:"payment__priceContainer",children:[Object(a.jsx)(R.a,{renderText:function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("h3",{children:["Order Total: $",E(n)]})})},decimalDigits:2,displayType:"text",thousandsSeparator:!0}),Object(a.jsx)("button",{disabled:x||N||T||0==(null===n||void 0===n?void 0:n.length)||!i,children:Object(a.jsx)("span",{children:x?Object(a.jsx)("p",{children:"Processing..."}):"Buy Now"})})]}),m&&Object(a.jsx)("div",{children:m})]})})]})]})})},K=c(71),$=c.n(K);c(125);var X=function(e){var t,c=e.order;return Object(a.jsxs)("div",{className:"order",children:[Object(a.jsx)("h2",{children:"Order"}),Object(a.jsx)("p",{children:$.a.unix(c.data.createdAt).format("MMMM Do YYYY, h:mma")}),Object(a.jsx)("p",{className:"order__id",children:Object(a.jsx)("small",{children:c.id})}),null===(t=c.data.cart)||void 0===t?void 0:t.map((function(e){return Object(a.jsx)(L,{id:e.id,title:e.title,image:e.image,rating:e.rating,price:e.price,isCheckingOut:!1})})),Object(a.jsx)(R.a,{renderText:function(e){return Object(a.jsxs)("h3",{className:"order__total",children:["Order Total: $",e]})},decimalScale:2,value:c.data.amount/100,displayType:"text",thousandSeparator:!0})]})};c(126);var J=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],i=f(),r=Object(l.a)(i,2),o=r[0],d=(o.cart,o.user);return r[1],Object(s.useEffect)((function(){d?(console.log("In the else block"),y.collection("users").doc(null===d||void 0===d?void 0:d.uid).collection("orders").orderBy("createdAt","desc").onSnapshot((function(e){return n(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))):n([]),console.log("User orders = ",c)}),[]),Object(a.jsxs)("div",{className:"orders",children:[Object(a.jsx)("h1",{children:"Your Orders"}),Object(a.jsx)("div",{className:"orders__order",children:null===c||void 0===c?void 0:c.map((function(e){return Object(a.jsx)(X,{order:e})}))})]})},Z=c(72),ee=(c(127),Object(Z.a)("pk_test_51I5R0LIE5UNqFWJhMjWq0ydRkR3tzJFKTlSWvTCqSyU8vrQLVNnC6Ra0rH7hjhgl6jzQbPmtlhZkyYr2MAR3Aouu00uyKCDtjx"));var te=function(){var e=f(),t=Object(l.a)(e,2);Object(o.a)(t[0]);var c=t[1];return Object(s.useEffect)((function(){C.onAuthStateChanged((function(e){console.log("User = ",e),c(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),Object(a.jsx)(d.a,{children:Object(a.jsx)("div",{className:"app",children:Object(a.jsxs)(j.c,{children:[Object(a.jsxs)(j.a,{path:"/orders",children:[Object(a.jsx)(S,{}),Object(a.jsx)(J,{})]}),Object(a.jsxs)(j.a,{path:"/cart",children:[Object(a.jsx)(S,{}),Object(a.jsx)(F,{})]}),Object(a.jsx)(j.a,{path:"/payment",children:Object(a.jsx)(H.Elements,{stripe:ee,children:Object(a.jsx)(q,{})})}),Object(a.jsx)(j.a,{path:"/login",children:Object(a.jsx)(Y,{})}),Object(a.jsxs)(j.a,{path:"/",children:[Object(a.jsx)(S,{}),Object(a.jsx)(I,{})]})]})})})},ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,144)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))};r.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(v,{initialState:{cart:[],user:null},reducer:M,children:Object(a.jsx)(te,{})})}),document.getElementById("root")),ce()},83:function(e,t,c){},84:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){},99:function(e,t,c){}},[[128,1,2]]]);
//# sourceMappingURL=main.4ed90ee4.chunk.js.map