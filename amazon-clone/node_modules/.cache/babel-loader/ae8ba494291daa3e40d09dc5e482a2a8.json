{"ast":null,"code":"import _toConsumableArray from\"/Users/saad/Desktop/Learning/Amazon Clone/amazon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/saad/Desktop/Learning/Amazon Clone/amazon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var initialState={cart:[],user:null};export var getCartTotal=function getCartTotal(cart){var totalAmount=cart===null||cart===void 0?void 0:cart.reduce(function(total,item){return item.price+total;},0);var cartTotal=totalAmount.toFixed(2);// console.log(\"Cart total = \", cartTotal);\nreturn cartTotal;};var reducer=function reducer(state,action){// console.log(action);\nswitch(action.type){case\"ADD_TO_CART\":return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[action.item])});case\"REMOVE_FROM_CART\":var productIndex=state.cart.findIndex(function(cartItem){return cartItem.id===action.id;});var newCart=_toConsumableArray(state.cart);if(productIndex>=0){newCart.splice(productIndex,1);}else{console.log(\"Can't remove product (id: \".concat(action.id,\")\"));}return _objectSpread(_objectSpread({},state),{},{cart:newCart});case\"EMPTY_CART\":return _objectSpread(_objectSpread({},state),{},{cart:[]});case\"SET_USER\":return _objectSpread(_objectSpread({},state),{},{user:action.user});default:return state;}};export default reducer;","map":{"version":3,"sources":["/Users/saad/Desktop/Learning/Amazon Clone/amazon-clone/src/reducer.js"],"names":["initialState","cart","user","getCartTotal","totalAmount","reduce","total","item","price","cartTotal","toFixed","reducer","state","action","type","productIndex","findIndex","cartItem","id","newCart","splice","console","log"],"mappings":"iWAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CAC1BC,IAAI,CAAE,EADoB,CAE1BC,IAAI,CAAE,IAFoB,CAArB,CAKP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACF,IAAD,CAAU,CACpC,GAAIG,CAAAA,WAAW,CAAGH,IAAH,SAAGA,IAAH,iBAAGA,IAAI,CAAEI,MAAN,CAAa,SAACC,KAAD,CAAQC,IAAR,QAAiBA,CAAAA,IAAI,CAACC,KAAL,CAAaF,KAA9B,EAAb,CAAkD,CAAlD,CAAlB,CACA,GAAIG,CAAAA,SAAS,CAAGL,WAAW,CAACM,OAAZ,CAAoB,CAApB,CAAhB,CACA;AACA,MAAOD,CAAAA,SAAP,CACD,CALM,CAOP,GAAME,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjC;AACA,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,aAAL,CACE,sCACKF,KADL,MAEEX,IAAI,8BAAMW,KAAK,CAACX,IAAZ,GAAkBY,MAAM,CAACN,IAAzB,EAFN,GAKF,IAAK,kBAAL,CACE,GAAMQ,CAAAA,YAAY,CAAGH,KAAK,CAACX,IAAN,CAAWe,SAAX,CACnB,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,EAAT,GAAgBL,MAAM,CAACK,EAArC,EADmB,CAArB,CAGA,GAAIC,CAAAA,OAAO,oBAAOP,KAAK,CAACX,IAAb,CAAX,CACA,GAAIc,YAAY,EAAI,CAApB,CAAuB,CACrBI,OAAO,CAACC,MAAR,CAAeL,YAAf,CAA6B,CAA7B,EACD,CAFD,IAEO,CACLM,OAAO,CAACC,GAAR,qCAAyCT,MAAM,CAACK,EAAhD,OACD,CACD,sCACKN,KADL,MAEEX,IAAI,CAAEkB,OAFR,GAKF,IAAK,YAAL,CACE,sCACKP,KADL,MAEEX,IAAI,CAAE,EAFR,GAKF,IAAK,UAAL,CACE,sCACKW,KADL,MAEEV,IAAI,CAAEW,MAAM,CAACX,IAFf,GAKF,QACE,MAAOU,CAAAA,KAAP,CAnCJ,CAqCD,CAvCD,CAyCA,cAAeD,CAAAA,OAAf","sourcesContent":["export const initialState = {\n  cart: [],\n  user: null,\n};\n\nexport const getCartTotal = (cart) => {\n  let totalAmount = cart?.reduce((total, item) => item.price + total, 0);\n  let cartTotal = totalAmount.toFixed(2);\n  // console.log(\"Cart total = \", cartTotal);\n  return cartTotal;\n};\n\nconst reducer = (state, action) => {\n  // console.log(action);\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      return {\n        ...state,\n        cart: [...state.cart, action.item],\n      };\n\n    case \"REMOVE_FROM_CART\":\n      const productIndex = state.cart.findIndex(\n        (cartItem) => cartItem.id === action.id\n      );\n      let newCart = [...state.cart];\n      if (productIndex >= 0) {\n        newCart.splice(productIndex, 1);\n      } else {\n        console.log(`Can't remove product (id: ${action.id})`);\n      }\n      return {\n        ...state,\n        cart: newCart,\n      };\n\n    case \"EMPTY_CART\":\n      return {\n        ...state,\n        cart: [],\n      };\n\n    case \"SET_USER\":\n      return {\n        ...state,\n        user: action.user,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}