{"ast":null,"code":"import _toConsumableArray from\"/Users/saad/Desktop/Learning/Amazon Clone/amazon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/saad/Desktop/Learning/Amazon Clone/amazon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var initialState={cart:[],user:null};export var getCartTotal=function getCartTotal(cart){return cart===null||cart===void 0?void 0:cart.reduce(function(total,item){return item.price+total;},0);};var reducer=function reducer(state,action){console.log(action);switch(action.type){case\"ADD_TO_CART\":return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[action.item])});case\"REMOVE_FROM_CART\":var productIndex=state.cart.findIndex(function(cartItem){return cartItem.id===action.id;});var newCart=_toConsumableArray(state.cart);if(productIndex>=0){newCart.splice(productIndex,1);}else{console.log(\"Can't remove product (id: \".concat(action.id,\")\"));}return _objectSpread(_objectSpread({},state),{},{cart:newCart});case\"SET_USER\":return _objectSpread(_objectSpread({},state),{},{user:action.user});default:return state;}};export default reducer;","map":{"version":3,"sources":["/Users/saad/Desktop/Learning/Amazon Clone/amazon-clone/src/reducer.js"],"names":["initialState","cart","user","getCartTotal","reduce","total","item","price","reducer","state","action","console","log","type","productIndex","findIndex","cartItem","id","newCart","splice"],"mappings":"iWAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CAC1BC,IAAI,CAAE,EADoB,CAE1BC,IAAI,CAAE,IAFoB,CAArB,CAKP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACF,IAAD,CAAU,CACpC,MAAOA,CAAAA,IAAP,SAAOA,IAAP,iBAAOA,IAAI,CAAEG,MAAN,CAAa,SAACC,KAAD,CAAQC,IAAR,QAAiBA,CAAAA,IAAI,CAACC,KAAL,CAAaF,KAA9B,EAAb,CAAkD,CAAlD,CAAP,CACD,CAFM,CAIP,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,OAAQA,MAAM,CAACG,IAAf,EACE,IAAK,aAAL,CACE,sCACKJ,KADL,MAEER,IAAI,8BAAMQ,KAAK,CAACR,IAAZ,GAAkBS,MAAM,CAACJ,IAAzB,EAFN,GAKF,IAAK,kBAAL,CACE,GAAMQ,CAAAA,YAAY,CAAGL,KAAK,CAACR,IAAN,CAAWc,SAAX,CACnB,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,EAAT,GAAgBP,MAAM,CAACO,EAArC,EADmB,CAArB,CAGA,GAAIC,CAAAA,OAAO,oBAAOT,KAAK,CAACR,IAAb,CAAX,CACA,GAAIa,YAAY,EAAI,CAApB,CAAuB,CACrBI,OAAO,CAACC,MAAR,CAAeL,YAAf,CAA6B,CAA7B,EACD,CAFD,IAEO,CACLH,OAAO,CAACC,GAAR,qCAAyCF,MAAM,CAACO,EAAhD,OACD,CACD,sCACKR,KADL,MAEER,IAAI,CAAEiB,OAFR,GAKF,IAAK,UAAL,CACE,sCACKT,KADL,MAEEP,IAAI,CAAEQ,MAAM,CAACR,IAFf,GAKF,QACE,MAAOO,CAAAA,KAAP,CA7BJ,CA+BD,CAjCD,CAmCA,cAAeD,CAAAA,OAAf","sourcesContent":["export const initialState = {\n  cart: [],\n  user: null,\n};\n\nexport const getCartTotal = (cart) => {\n  return cart?.reduce((total, item) => item.price + total, 0);\n};\n\nconst reducer = (state, action) => {\n  console.log(action);\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      return {\n        ...state,\n        cart: [...state.cart, action.item],\n      };\n\n    case \"REMOVE_FROM_CART\":\n      const productIndex = state.cart.findIndex(\n        (cartItem) => cartItem.id === action.id\n      );\n      let newCart = [...state.cart];\n      if (productIndex >= 0) {\n        newCart.splice(productIndex, 1);\n      } else {\n        console.log(`Can't remove product (id: ${action.id})`);\n      }\n      return {\n        ...state,\n        cart: newCart,\n      };\n\n    case \"SET_USER\":\n      return {\n        ...state,\n        user: action.user,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}